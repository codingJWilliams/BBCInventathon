<html>
  <style>
  h1 {
  	font-family: "Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif;
  	font-size: 49px;
  	font-style: normal;
  	font-variant: normal;
    color: white;
  	font-weight: 500;
  	line-height: 53.9px;
  }
  html {
    background: url("") no-repeat center center fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
  }
  </style>
  <body>
    <center>
      <br>
      <br>
      <h1>

      </h1>
    </center>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://raw.githubusercontent.com/lokesh/color-thief/master/dist/color-thief.min.js"></script>
  <script>/*
    var socket = io();
    socket.on('connect', function(){});
    socket.on("thing-started", function (data){
      $("h1").text("HIGH FIVE!")
      $("body").css("background-color","green");
    })
    socket.on("thing-ended", function (data){
      $("h1").text("")
      $("body").css("background-color","red");
    })
    socket.on('disconnect', function(){});*/
    //$("body").css("background-image","url('bannana-apple.png')");
    var bases = {
      lemon: "url('lemons-base.jpg')",
      bannana: "url('bannana-base.jpg')",
      lime: "url('lime-base.jpg')",
      orange: "url('orange-base.jpg')"
    }
    var out = [];
    for (key in bases){
      if (!bases.hasOwnProperty(key)) continue;
      out.push(key)
    }
    function choose(choices) {
      var index = Math.floor(Math.random() * choices.length);
      return choices[index];
    }
    var mappings = {
      KeyA: "lemon",
      KeyW: "bannana",
      KeyS: "lime",
      KeyD: "orange"
    }

    function initPic(pic, word) {
      $("html").css("background-image", pic);
      $("h1").text(word);
      current.pic = pic;
      current.word = word;
    }

    initPic(bases[choose(out)], choose(out))

    document.onkeyup = function (e) {
      var mapped = mappings[e.code]
      if(mapped == undefined) return;

      if (mapped == current.word) {
        // Go to next
        var key = choose(out)
        var key2 = choose(out)
        console.log(key, key2)
        initPic(bases[key2], key)
        console.log("Going next")
      }
      else {
      }


    }
  </script>
  </html>
